<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta property="og:title" content="Spring Boot 101">
<meta property="og:image" content="https://jldec.me/images/boot1.jpg">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jldec.me/spring-boot-101">
<meta property="og:description" content="What is a Spring Bean really?">
<meta name="twitter:site" content="@jldec">
<meta name="twitter:creator" content="@jldec">
<meta name="twitter:title" content="Spring Boot 101">
<meta name="twitter:description" content="What is a Spring Bean really?">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:widgets:new-embed-design" content="on">
<meta name="twitter:image" content="https://jldec.me/images/boot1.jpg">
<meta name="twitter:image:alt" content="Whiteboard with Mark Fisher">
<meta name="robots" content="noindex, nofollow">
<link rel="canonical" href="https://jldec.me/spring-boot-101">

<!-- html generated by pub-server from markdown /spring-boot-101.md -->

<title>Spring Boot 101</title>
<link rel="stylesheet" href="./css/pubblog.css">
<link rel="stylesheet" href="./css/open-sans.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<link rel="stylesheet" href="./css/prism.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout">
<header>
<div id="doctitle"><h1 id="jldecuk"><a href="./">jldec.uk</a></h1>
</div>
<div id="topmenu"><div data-render-html="/#topmenu">&nbsp;</div></div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-2x">&#xf01a;</span></p>

<nav id="toc">
<ul>
<li><strong><a href="./">Home</a></strong></li>
<li><a href="./getting-started-with-python-packaging">Getting started with Python Packaging</a></li>
<li><a href="./lets-figure-out-whats-next-together">News</a></li>
<li><a href="./about">About me</a></li>
<li><a href="./what-is-git-lfs">What is git LFS?</a></li>
<li><a href="./first-impressions-of-the-new-github-projects-beta">First impressions of the new GitHub Projects Beta</a></li>
<li><a href="./using-gitpod-to-create-a-pr">Using Gitpod to create a PR</a></li>
<li><a href="./preventing-concurrent-github-actions">Preventing concurrent GitHub Actions</a></li>
<li><a href="./getting-started-with-go-part-3-goroutines-and-channels">Getting started with Goroutines and channels</a></li>
<li><a href="./getting-started-with-go-part-2-pointers">Getting started with Go pointers</a></li>
<li><a href="./getting-started-with-go">Getting started with Go</a></li>
<li><a href="./extracting-an-esm-module-from-a-deno-script">Extracting an ESM module from a Deno script</a></li>
<li><a href="./running-a-compiled-deno-script-in-a-github-action">Running a compiled Deno script in a GitHub Action</a></li>
<li><a href="./getting-started-with-deno">Getting Started with Deno</a></li>
<li><a href="./calling-rust-from-a-cloudflare-worker">Calling Rust from a Cloudflare Worker</a></li>
<li><a href="./fun-with-vercel">Fun with Vercel</a></li>
<li><a href="./first-steps-using-cloudflare-pages">First steps using Cloudflare Pages</a></li>
<li><a href="./migrating-from-cjs-to-esm">Migrating from CommonJS to ESM</a></li>
<li><a href="./forays-from-node-to-rust">Forays from Node to Rust</a></li>
<li><a href="./github-actions-101">GitHub Actions 101</a></li>
<li><a href="./a-web-for-everyone">A Web for Everyone</a></li>
<li><a href="./why-serverless-at-the-edge">Why Serverless at the Edge?</a></li>
<li><a href="./spring-boot-101">Spring Boot 101</a></li>
<li><a href="./why-the-web-needs-better-html-editing-components">Why the Web needs better HTML editing components</a></li>
</ul>
</nav>
</div>

<div id="title" style='background-image:url("./images/boot1.jpg");'>
  <div class="title">Spring Boot 101</div>
  <div class="subtitle"></div>
</div>

<div id="main" onclick="">
<div id="content">

<div data-render-page="/spring-boot-101">
<span class="permalink"><a class="permalink" href="./spring-boot-101" title="Link to this post.">&#xf0c1;</a></span><span class="date">2017-06-28</span>

<div >
<div data-render-html="/spring-boot-101"><h1 id="what-is-a-spring-bean-really">What is a Spring Bean really?</h1>
<p>Today I was feeling rather lost in my attempts to understand what is going on inside a Spring Boot application.</p>
<p>Being new to Spring, I had spent a fair bit of time googling and reading, but most of the things i came across simply assume prior knowledge when it comes to fundamental concepts like &#39;Beans&#39;.</p>
<p>Mark Fisher, my friend and colleague here on the Spring team at Pivotal, came to my rescue and offered to explain. In exchange, I promised to write about it.</p>
<p>The result is this blog post and <a href="https://github.com/markfisher/spring-boot-hello-world" target="_blank" rel="noopener">https://github.com/markfisher/spring-boot-hello-world</a>.</p>
<h2 id="in-the-beginning-there-was-xml">In the beginning there was XML</h2>
<p>Spring started by providing a much-simpler-than-J2EE, XML-based way to configure the main classes that your Java application depended on.</p>
<p>Simply instantiating everything with <code>new</code> in Java was not ideal because this meant that you had to hardwire all those dependencies into your code, so you couldn&#39;t easily use say one database for local testing and a different database for CI or production.  </p>
<p>Instead of writing your own factories which abstracted the creation of things like database connections, you could use Spring and provide the details of all those things in XML.</p>
<p>Spring would read some environment-specific XML at startup and create instances of those classes based on what was in the XML.</p>
<p>And those instances were... <em><strong>Beans</strong></em>, something like this:</p>
<p><img src="./images/boot1b.jpg" alt="ApplicationContext.getBean()"></p>
<h2 id="now-there-are-annotations">Now there are @Annotations</h2>
<p>Fast forward a few years and the XML has been replaced by Java code annotated as <code>@Configuration</code> and <code>@ConfigurationProperties</code>.</p>
<pre><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">GreeterProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GreeterAutoConfiguration</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Greeter</span> <span class="token function">greeter</span><span class="token punctuation">(</span><span class="token class-name">GreeterProperties</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getGreeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Notice that the factory method is annotated as <code>@Bean</code>.</p>
<p>If the configuration class is included in the <code>META-INF/spring.factories</code> of a dependent jar, then a Spring Boot application will automatically call the factory method to create a singleton instance of that class on startup.</p>
<blockquote>
<p>This is the magic<br>and those instances are still called <strong>Beans</strong></p>
</blockquote>
<h2 id="what-about-spring-initializr-and-all-those-starters">What about <a href="https://start.spring.io/" target="_blank" rel="noopener">Spring Initializr</a> and all those starters?</h2>
<p>Now that <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-configuration-classes" target="_blank" rel="noopener"><em>configuration scanning</em></a> is no longer such a mystery, the role of Spring Boot Starters is easier to understand.</p>
<p>By including a starter in the dependencies of your Boot App, you are telling Spring to scan for configuration classes inside that starter, which results in the automatic creation of the <strong>Beans</strong> for that starter.</p>
<p><img src="./images/boot7.jpg" alt="Initializr injection"></p>
<blockquote>
<p>Easy!<br><span class="fa">&#xf094;</span></p>
</blockquote>
<hr>
</div>
</div>


</div><!--page-->

<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="https://jldec.github.io/pub-doc/" target="_blank" rel="noopener">pub-server</a> and <a href="https://github.com/jldec/pub-theme-pubblog" target="_blank" rel="noopener">pub-theme-pubblog</a></p>
</div>

</div>
</div>

</div><!--layout-->

<script>window.pubRef = {"href":"/spring-boot-101","relPath":"."};</script>
<script src="./js/jquery-1.12.4.min.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- copyright -->
</body>
</html>
