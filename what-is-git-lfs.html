<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta property="og:title" content="What is git LFS?">
<meta property="og:image" content="https://jldec.me/images/station-clouds.jpg">
<meta property="og:type" content="article">
<meta property="og:url" content="https://jldec.me/what-is-git-lfs">
<meta property="og:description" content="What is git LFS and how does it work?">
<meta name="twitter:site" content="@jldec">
<meta name="twitter:creator" content="@jldec">
<meta name="twitter:title" content="What is git LFS?">
<meta name="twitter:description" content="What is git LFS and how does it work?">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:widgets:new-embed-design" content="on">
<meta name="twitter:image" content="https://jldec.me/images/station-clouds.jpg">
<meta name="twitter:image:alt" content="Sunset near Cambridge Station UK">
<meta name="robots" content="noindex, nofollow">
<link rel="canonical" href="https://jldec.me/what-is-git-lfs">

<!-- html generated by pub-server from markdown /what-is-git-lfs.md -->

<title>What is git LFS?</title>
<link rel="stylesheet" href="./css/pubblog.css">
<link rel="stylesheet" href="./css/open-sans.css">
<link rel="stylesheet" href="./css/font-awesome.css">
<link rel="stylesheet" href="./css/prism.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>

<div data-render-layout="main-layout">
<header>
<div id="doctitle"><h1 id="jldecuk"><a href="./">jldec.uk</a></h1>
</div>
<div id="topmenu"><div data-render-html="/#topmenu">&nbsp;</div></div>
</header>

<div id="navicon" onclick=""><p><span class="fa fa-fw fa-2x">&#xf01a;</span></p>

<nav id="toc">
<ul>
<li><strong><a href="./">Home</a></strong></li>
<li><a href="./getting-started-with-python-packaging">Getting started with Python Packaging</a></li>
<li><a href="./lets-figure-out-whats-next-together">News</a></li>
<li><a href="./about">About me</a></li>
<li><a href="./what-is-git-lfs">What is git LFS?</a></li>
<li><a href="./first-impressions-of-the-new-github-projects-beta">First impressions of the new GitHub Projects Beta</a></li>
<li><a href="./using-gitpod-to-create-a-pr">Using Gitpod to create a PR</a></li>
<li><a href="./preventing-concurrent-github-actions">Preventing concurrent GitHub Actions</a></li>
<li><a href="./getting-started-with-go-part-3-goroutines-and-channels">Getting started with Goroutines and channels</a></li>
<li><a href="./getting-started-with-go-part-2-pointers">Getting started with Go pointers</a></li>
<li><a href="./getting-started-with-go">Getting started with Go</a></li>
<li><a href="./extracting-an-esm-module-from-a-deno-script">Extracting an ESM module from a Deno script</a></li>
<li><a href="./running-a-compiled-deno-script-in-a-github-action">Running a compiled Deno script in a GitHub Action</a></li>
<li><a href="./getting-started-with-deno">Getting Started with Deno</a></li>
<li><a href="./calling-rust-from-a-cloudflare-worker">Calling Rust from a Cloudflare Worker</a></li>
<li><a href="./fun-with-vercel">Fun with Vercel</a></li>
<li><a href="./first-steps-using-cloudflare-pages">First steps using Cloudflare Pages</a></li>
<li><a href="./migrating-from-cjs-to-esm">Migrating from CommonJS to ESM</a></li>
<li><a href="./forays-from-node-to-rust">Forays from Node to Rust</a></li>
<li><a href="./github-actions-101">GitHub Actions 101</a></li>
<li><a href="./a-web-for-everyone">A Web for Everyone</a></li>
<li><a href="./why-serverless-at-the-edge">Why Serverless at the Edge?</a></li>
<li><a href="./spring-boot-101">Spring Boot 101</a></li>
<li><a href="./why-the-web-needs-better-html-editing-components">Why the Web needs better HTML editing components</a></li>
</ul>
</nav>
</div>

<div id="title" style='background-image:url("images/station-clouds.jpg");'>
  <div class="title">What is git LFS?</div>
  <div class="subtitle"></div>
</div>

<div id="main" onclick="">
<div id="content">

<div data-render-page="/what-is-git-lfs">
<span class="permalink"><a class="permalink" href="./what-is-git-lfs" title="Link to this post.">&#xf0c1;</a></span><span class="date">2022-02-08</span>

<div >
<div data-render-html="/what-is-git-lfs"><h2 id="what-is-git-lfs">What is git LFS?</h2>
<p>Git large file storage or LFS is a way to store binaries outside your git repo, but still work with them as if they were part of the repo.</p>
<p>It works by replacing the actual file with a small text file which contains a pointer to the real thing. Every problem in computer science can be solved by another level of indirection.</p>
<pre><code class="language-sh">$ cat screenshot.png 
version https://git-lfs.github.com/spec/v1
oid sha256:8ded39c045d36d4f745e46525b5c8b6a29baceb89006a3e85148ce66db9c187d
size 280654
</code></pre>
<p>For a brief introduction to LFS see <a href="https://git-lfs.github.com/" target="_blank" rel="noopener">https://git-lfs.github.com/</a> or watch this <a href="https://www.youtube.com/watch?v=uLR1RNqJ1Mw" target="_blank" rel="noopener">video</a>.</p>
<h2 id="installation">Installation</h2>
<p>Installation requires 2 steps.</p>
<ol>
<li><p>Place <code>git-lfs</code> on the path.<br>I pulled the latest binary for macOS arm64 from <a href="https://github.com/git-lfs/git-lfs/releases" target="_blank" rel="noopener">GitHub releases</a>.</p>
</li>
<li><p>Configure git to use LFS with <code>git lfs install</code>.</p>
</li>
</ol>
<p>Both of these steps are included in the <code>install.sh</code> script, in the GitHub release.</p>
<h2 id="why-is-the-binary-called-git-lfs">Why is the binary called &#39;git-lfs&#39;?</h2>
<p>A git extension is a binary prefixed <code>git-</code>.</p>
<p>Running <code>git lfs</code> invokes <code>git-lfs</code>, which gives you a nice summary of the available commands.</p>
<pre><code>To get started with Git LFS, the following commands can be used.

 1. Setup Git LFS on your system. You only have to do this once per
    repository per machine:

        git lfs install

 2. Choose the type of files you want to track, for examples all ISO
    images, with git lfs track:

        git lfs track &quot;*.iso&quot;

 3. The above stores this information in gitattributes(5) files, so
    that file need to be added to the repository:

        git add .gitattributes

 4. Commit, push and work with the files normally:

        git add file.iso
        git commit -m &quot;Add disk image&quot;
        git push
</code></pre>
<h2 id="what-does-git-lfs-install-do">What does &#39;git lfs install&#39; do?</h2>
<p>The command <code>git lfs install</code> configures a git filter, which calls git-lfs to convert between pointer files and the actual blobs.
This filter configuration lives in your git config (e.g. at <code>~/.gitconfig</code>) and applies to all your repos.</p>
<pre><code class="language-.gitconfig">[filter &quot;lfs&quot;]
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true
</code></pre>
<p>If you prefer not to run these hooks all the time, you can uninstall them with <code>git lfs uninstall</code> after finishing your work on an LFS git repo.</p>
<h2 id="how-is-a-repo-configured-to-use-lfs">How is a repo configured to use LFS?</h2>
<p>The command <code>git lfs track &#39;*.png&#39;</code> adds the following line to the <code>.gitattributes</code> file in the repo.</p>
<pre><code class="language-.gitattributes">*.png filter=lfs diff=lfs merge=lfs -text
</code></pre>
<p>This associates git-lfs with <code>.png</code> files.
Once the association is made, you can work with those files normally, and git-lfs will handle the LFS interactions with GitHub automatically, in the background.</p>
<h2 id="example-repo">Example repo</h2>
<p>This repo lives at <a href="https://github.com/jldec/lfs-test" target="_blank" rel="noopener">github.com/jldec/lfs-test</a></p>
<pre><code class="language-sh">$ git init
Initialized empty Git repository in /Users/jldec/lfs-test/.git/

$ git lfs track &#39;*.png&#39;
Tracking &quot;*.png&quot;

$ git lfs track
Listing tracked patterns
    *.png (.gitattributes)
Listing excluded patterns

$ git add -A
$ git commit -m &#39;initial commit&#39;
[main (root-commit) c25b950] initial commit
 2 files changed, 4 insertions(+)
 create mode 100644 .gitattributes
 create mode 100644 screenshot.png

$ git lfs ls-files
ba2a8c5285 * screenshot.png

$ git remote add origin git@github.com:jldec/lfs-test.git
$ git push -u origin main
Uploading LFS objects: 100% (1/1), 146 KB | 0 B/s, done.
Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 408 bytes | 408.00 KiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
To github.com:jldec/lfs-test.git
 * [new branch]      main -&gt; main
Branch &#39;main&#39; set up to track remote branch &#39;main&#39; from &#39;origin&#39;.

$ git status
On branch main
Your branch is up to date with &#39;origin/main&#39;.

Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)
        modified:   screenshot.png

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)

$ git commit -a -m &#39;update lfs file screenshot.png&#39;
[main e695f5f] update lfs file screenshot.png
 1 file changed, 2 insertions(+), 2 deletions(-)

$ git push
Uploading LFS objects: 100% (1/1), 281 KB | 121 KB/s, done.
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 405 bytes | 405.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
To github.com:jldec/lfs-test.git
   c25b950..e695f5f  main -&gt; main
</code></pre>
<p><em>To leave a comment<br>please visit <a href="https://dev.to/jldec/what-is-git-lfs-28db" target="_blank" rel="noopener">dev.to/jldec</a></em></p>
</div>
</div>


</div><!--page-->

<div id="credit"><p><span class="fa">&#xf004;</span> powered by <a href="https://jldec.github.io/pub-doc/" target="_blank" rel="noopener">pub-server</a> and <a href="https://github.com/jldec/pub-theme-pubblog" target="_blank" rel="noopener">pub-theme-pubblog</a></p>
</div>

</div>
</div>

</div><!--layout-->

<script>window.pubRef = {"href":"/what-is-git-lfs","relPath":"."};</script>
<script src="./js/jquery-1.12.4.min.js" ></script>
<script src="./pub/pub-ux.js" ></script>
<!-- copyright -->
</body>
</html>
